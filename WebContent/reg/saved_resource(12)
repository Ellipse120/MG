YUI.add("track-ua/event-click",function(e){function t(t){t&&(t.isUA?o=!0:t.isGA&&(a=!0),e.one(document.body).delegate("click",function(){var e=this;n(e),e.test("a")&&i(e)},"[gaevent], [data-mtevent], a"))}function n(e){var t,n,i,r,l,u=e.getAttribute("gaevent");u&&(t=u.split("|"),t.length<3?(n="InnerLink",r="Click",i=t[0],l=t[1]):(n=t[0],r=t[1],i=t[2],l=t[3]),!i&&e.get("href")&&(i=e.get("href").replace("http://","")),a&&s._gaq.push(["_trackEvent",n,r,i,l]),o&&(l?s.ga("send","event",n,r,i,l):s.ga("send","event",n,r,i)))}function i(e){var t,n,i=e.get("href"),r=/^(http:\/\/|mailto:)/;if(i&&r.test(i)){if(i=i.replace("http://",""),t=i.indexOf("?"),n=e.getAttribute("galbel"),t>0&&(i=i.substring(0,t)),/\.(meituan|mt|sankuai)\.com/.test(i))return;n&&(i+="#label="+n),a&&s._gaq.push(["_trackEvent","OutLink","Click",i]),o&&s.ga("send","event","OutLink","Click",i)}}var a,o,s=e.config.win;e.namespace("track.ua").event=t},"1.0",{requires:["node"]});
YUI.add("track-ua",function(e,t){function n(){e.track.ua.event(i)}var i=e.config[t];e.mix(n,e.namespace("track.ua")),e.namespace("track").ua=n},"1.0",{requires:["track-ua/event-click"]});