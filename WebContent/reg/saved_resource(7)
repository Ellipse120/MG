M.add("crm-category",function(e){e.namespace("mt"),e.mt.Category={_listData:null,_mapData:null,_showAll:!0,_dataUrl:"/category/list/jsonp?callback={callback}",categoryForFind:function(t){var n=e.one(".filter-form"),i=n.one(".cat-name"),a=n.one(".cat-id"),o="",s="品类";t&&t.excludeType&&(o=t.excludeType),t&&t.placeholder&&(s=t.placeholder),this.init(function(o){new e.mt.widget.Tree({data:o,showSearchBox:!1,elTarget:i,initEvent:"click",eventTarget:i,placeholder:s,width:208,expandLevel:0,afterChoose:function(e){a.set("value",e.id),i.set("value",e.name),(!t||t&&t.cancelSubmit!==!0)&&n.submit()}})},{showAll:!0},"/category/list/jsonp?callback={callback}&excludeType="+o)},categoryForBusinessOpportunity:function(t,n,i,a){var o=t.one(".cat-name"),s=t.one(".cat-id");this._showAll=!1,this.init(function(t){function n(e,t){t.set("value",-1),e.set("value","请选择二级品类")}var r=new e.mt.widget.Tree({data:t,showSearchBox:!1,elTarget:o,initEvent:"click",eventTarget:o,width:212,expandLevel:-1,afterChoose:function(t){"true"!==t.isLeaf?n(o,s):(s.set("value",t.id),o.set("value",t.name),i&&i(t)),e.Global.fire("formChecker:valueChange",{node:o})}});r.expandAll(),a&&a(null,{data:t,tree:r})},null,"/crmopen/category/list/jsonp?callback={callback}&excludeType="+n)},categoryForLastLevel:function(t,n,i){var a=t.one(".cat-name"),o=t.one(".cat-id");i=i||"/crmopen/category/list/jsonp?callback={callback}",this._showAll=!1,this.init(function(t){function i(e,t){t.set("value",-1),e.set("value","请选择二级品类")}var s=new e.mt.widget.Tree({data:t,showSearchBox:!1,elTarget:a,initEvent:"click",eventTarget:a,width:212,expandLevel:-1,afterChoose:function(t){0===window.parseInt(t.parentId,10)?i(a,o):(o.set("value",t.id),a.set("value",t.name),n&&n(t)),e.Global.fire("formChecker:valueChange",{node:a})}});s.expandAll()},null,i)},categorySelectMore:function(t,n,i,a){i=i||"/crmopen/category/list/jsonp?callback={callback}",this._showAll=!1,this.init(function(n){for(var i=0;i<n.length;i++)32===+n[i].status&&(n.splice(i,1),i--);var o=new e.mt.widget.Tree({data:n,showSearchBox:!1,elTarget:t,initEvent:"click",eventTarget:t,width:212,expandLevel:-1,showCheckbox:{afterBoxChecked:function(e){a.call(this,e),o.bBox.hide()}}});o.expandAll()},null,i)},cascadeCategory:function(t,n){var i=this,a=n.url||"/category/list/jsonp?callback={callback}";n.excludeType&&(a+="&excludeType="+n.excludeType),n&&void 0!=n.showAll&&(i._showAll=!0),e.jsonp(a,function(a){i._showAll&&a.unshift({id:"",name:"全部品类",parentId:"0"});var o=i._preDealData(a);new e.mt.crm.CascadeMenu({node:n.node,dataArr:o,callback:t})})},_preDealData:function(e){for(var t=[],n=0;n<e.length;n++)32==e[n].status&&(e.splice(n,1),n--);for(n=0;n<e.length;n++)0==e[n].parentId&&(t.push(e[n]),e.splice(n,1),n--);return this.traverseData(t,e),t},traverseData:function(e,t){for(var n=[],i=0;i<t.length;){var a=this.existInArr(e,t[i]);a.find&&(n.push(t[i]),this.addMember(e[a.index],t[i]),t.splice(i,1),i--),i++}t.length>0&&this.traverseData(n,t)},existInArr:function(e,t){for(var n=!1,i=0,a=e.length;a>i;i++)if(e[i].id==t.parentId){n=!0;break}return{find:n,index:i}},addMember:function(e,t){e.members||(e.members=[]),e.members.push(t)},init:function(e,t,n){var i=this;t&&void 0!=t.showAll&&(i._showAll=!0),null==i._listData?i._initData(e,n):e&&e(i._listData)},_initData:function(t,n){var i=this;e.jsonp(n||i._dataUrl,function(e){i._showAll&&e.unshift({id:"",name:"全部品类",parentId:"0"}),i._listData=e;for(var n={},a=0,o=e.length;o>a;a++)n[e[a].id]=e[a];i._mapData=n,t&&t(e)})},getData:function(){return this._listData},getFullCatDesc:function(e){var t=this;return 0==e?"":t._getFullCatDesc(e)},_getFullCatDesc:function(e){var t=this,n=[];for(n.unshift(t._mapData[e].name);null!=e&&0!=(e=t._mapData[e].parentId);)n.unshift(t._mapData[e].name);return n.join("-")}}},"1.0.0",{requires:["w-tree","jsonp","crm-cascade-menu","node","event-custom"]});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"3.17.2",{requires:["yui-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.17.2",{requires:["base-base","node-style","color-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-color",function(e,t){var n=Number;e.Anim.getUpdatedColorValue=function(t,r,i,s,o){return t=e.Color.re_RGB.exec(e.Color.toRGB(t)),r=e.Color.re_RGB.exec(e.Color.toRGB(r)),(!t||t.length<3||!r||r.length<3)&&e.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(o(i,n(t[1]),n(r[1])-n(t[1]),s)),Math.floor(o(i,n(t[2]),n(r[2])-n(t[2]),s)),Math.floor(o(i,n(t[3]),n(r[3])-n(t[3]),s))].join(", ")+")"},e.Anim.behaviors.color={set:function(t,n,r,i,s,o,u){t._node.setStyle(n,e.Anim.getUpdatedColorValue(r,i,s,o,u))},get:function(e,t){var n=e._node.getComputedStyle(t);return n=n==="transparent"?"rgb(255, 255, 255)":n,n}},e.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(t){e.Anim.behaviors[t]=e.Anim.behaviors.color})},"3.17.2",{requires:["anim-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-xy",function(e,t){var n=Number;e.Anim.behaviors.xy={set:function(e,t,r,i,s,o,u){e._node.setXY([u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)])},get:function(e){return e._node.getXY()}}},"3.17.2",{requires:["anim-base","node-screen"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-curve",function(e,t){e.Anim.behaviors.curve={set:function(t,n,r,i,s,o,u){r=r.slice.call(r),i=i.slice.call(i);var a=u(s,0,100,o)/100;i.unshift(r),t._node.setXY(e.Anim.getBezier(i,a))},get:function(e){return e._node.getXY()}},e.Anim.getBezier=function(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},"3.17.2",{requires:["anim-xy"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-easing",function(e,t){var n={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},elasticOut:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},elasticBoth:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r/2)===2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},backIn:function(e,t,n,r,i){return i===undefined&&(i=1.70158),e===r&&(e-=.001),n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(t,n,r,i){return r-e.Easing.bounceOut(i-t,0,r,i)+n},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(t,n,r,i){return t<i/2?e.Easing.bounceIn(t*2,0,r,i)*.5+n:e.Easing.bounceOut(t*2-i,0,r,i)*.5+r*.5+n}};e.Easing=n},"3.17.2",{requires:["anim-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-node-plugin",function(e,t){var n=function(t){t=t?e.merge(t):{},t.node=t.host,n.superclass.constructor.apply(this,arguments)};n.NAME="nodefx",n.NS="fx",e.extend(n,e.Anim),e.namespace("Plugin"),e.Plugin.NodeFX=n},"3.17.2",{requires:["node-pluginhost","anim-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-scroll",function(e,t){var n=Number;e.Anim.behaviors.scroll={set:function(e,t,r,i,s,o,u){var a=e._node,f=[u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)];f[0]&&a.set("scrollLeft",f[0]),f[1]&&a.set("scrollTop",f[1])},get:function(e){var t=e._node;return[t.get("scrollLeft"),t.get("scrollTop")]}}},"3.17.2",{requires:["anim-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-stdmod",function(e,t){function H(e){}var n=e.Lang,r=e.Node,i=e.UA,s=e.Widget,o="",u="hd",a="bd",f="ft",l="header",c="body",h="footer",p="fillHeight",d="stdmod",v="Node",m="Content",g="firstChild",y="childNodes",b="ownerDocument",w="contentBox",E="height",S="offsetHeight",x="auto",T="headerContentChange",N="bodyContentChange",C="footerContentChange",k="fillHeightChange",L="heightChange",A="contentUpdate",O="renderUI",M="bindUI",_="syncUI",D="_applyParsedConfig",P=e.Widget.UI_SRC;H.HEADER=l,H.BODY=c,H.FOOTER=h,H.AFTER="after",H.BEFORE="before",H.REPLACE="replace";var B=H.HEADER,j=H.BODY,F=H.FOOTER,I=B+m,q=F+m,R=j+m;H.ATTRS={headerContent:{value:null},footerContent:{value:null},bodyContent:{value:null},fillHeight:{value:H.BODY,validator:function(e){return this._validateFillHeight(e)}}},H.HTML_PARSER={headerContent:function(e){return this._parseStdModHTML(B)},bodyContent:function(e){return this._parseStdModHTML(j)},footerContent:function(e){return this._parseStdModHTML(F)}},H.SECTION_CLASS_NAMES={header:s.getClassName(u),body:s.getClassName(a),footer:s.getClassName(f)},H.TEMPLATES={header:'<div class="'+H.SECTION_CLASS_NAMES[B]+'"></div>',body:'<div class="'+H.SECTION_CLASS_NAMES[j]+'"></div>',footer:'<div class="'+H.SECTION_CLASS_NAMES[F]+'"></div>'},H.prototype={initializer:function(){this._stdModNode=this.get(w),e.before(this._renderUIStdMod,this,O),e.before(this._bindUIStdMod,this,M),e.before(this._syncUIStdMod,this,_)},_syncUIStdMod:function(){var e=this._stdModParsed;(!e||!e[I])&&this._uiSetStdMod(B,this.get(I)),(!e||!e[R])&&this._uiSetStdMod(j,this.get(R)),(!e||!e[q])&&this._uiSetStdMod(F,this.get(q)),this._uiSetFillHeight(this.get(p))},_renderUIStdMod:function(){this._stdModNode.addClass(s.getClassName(d)),this._renderStdModSections(),this.after(T,this._afterHeaderChange),this.after(N,this._afterBodyChange),this.after(C,this._afterFooterChange)},_renderStdModSections:function(){n.isValue(this.get(I))&&this._renderStdMod(B),n.isValue(this.get(R))&&this._renderStdMod(j),n.isValue(this.get(q))&&this._renderStdMod(F)},_bindUIStdMod:function(){this.after(k,this._afterFillHeightChange),this.after(L,this._fillHeight),this.after(A,this._fillHeight)},_afterHeaderChange:function(e){e.src!==P&&this._uiSetStdMod(B,e.newVal,e.stdModPosition)},_afterBodyChange:function(e){e.src!==P&&this._uiSetStdMod(j,e.newVal,e.stdModPosition)},_afterFooterChange:function(e){e.src!==P&&this._uiSetStdMod(F,e.newVal,e.stdModPosition)},_afterFillHeightChange:function(e){this._uiSetFillHeight(e.newVal)},_validateFillHeight:function(e){return!e||e==H.BODY||e==H.HEADER||e==H.FOOTER},_uiSetFillHeight:function(e){var t=this.getStdModNode(e),n=this._currFillNode;n&&t!==n&&n.setStyle(E,o),t&&(this._currFillNode=t),this._fillHeight()},_fillHeight:function(){if(this.get(p)){var e=this.get(E);e!=o&&e!=x&&this.fillHeight(this.getStdModNode(this.get(p)))}},_uiSetStdMod:function(e,t,r){if(n.isValue(t)){var i=this.getStdModNode(e,!0);this._addStdModContent(i,t,r),this.set(e+m,this._getStdModContent(e),{src:P})}else this._eraseStdMod(e);this.fire(A)},_renderStdMod:function(e){var t=this.get(w),n=this._findStdModSection(e);return n||(n=this._getStdModTemplate(e)),this._insertStdModSection(t,e,n),this[e+v]=n,this[e+v]},_eraseStdMod:function(e){var t=this.getStdModNode(e);t&&(t.remove(!0),delete this[e+v])},_insertStdModSection:function(e,t,n){var r=e.get(g);if(t===F||!r)e.appendChild(n);else if(t===B)e.insertBefore(n,r);else{var i=this[F+v];i?e.insertBefore(n,i):e.appendChild(n)}},_getStdModTemplate:function(e){return r.create(H.TEMPLATES[e],this._stdModNode.get(b))},_addStdModContent:function(e,t,n){switch(n){case H.BEFORE:n=0;break;case H.AFTER:n=undefined;break;default:n=H.REPLACE}e.insert(t,n)},_getPreciseHeight:function(e){var t=e?e.get(S):0,n="getBoundingClientRect";if(e&&e.hasMethod(n)){var r=e.invoke(n);r&&(t=r.bottom-r.top)}return t},_findStdModSection:function(e){return this.get(w).one("> ."+H.SECTION_CLASS_NAMES[e])},_parseStdModHTML:function(t){var n=this._findStdModSection(t);return n?(this._stdModParsed||(this._stdModParsed={},e.before(this._applyStdModParsedConfig,this,D)),this._stdModParsed[t+m]=1,n.get("innerHTML")):null},_applyStdModParsedConfig:function(e,t,n){var r=this._stdModParsed;r&&(r[I]=!(I in t)&&I in r,r[R]=!(R in t)&&R in r,r[q]=!(q in t)&&q in r)},_getStdModContent:function(e){return this[e+v]?this[e+v].get(y):null},setStdModContent:function(e,t,n){this.set(e+m,t,{stdModPosition:n})},getStdModNode:function(e,t){var n=this[e+v]||null;return!n&&t&&(n=this._renderStdMod(e)),n},fillHeight:function(e){if(e){var t=this.get(w),r=[this.headerNode,this.bodyNode,this.footerNode],s,o,u=0,a=0,f=!1;for(var l=0,c=r.length;l<c;l++)s=r[l],s&&(s!==e?u+=this._getPreciseHeight(s):f=!0);f&&((i.ie||i.opera)&&e.set(S,0),o=t.get(S)-parseInt(t.getComputedStyle("paddingTop"),10)-parseInt(t.getComputedStyle("paddingBottom"),10)-parseInt(t.getComputedStyle("borderBottomWidth"),10)-parseInt(t.getComputedStyle("borderTopWidth"),10),n.isNumber(o)&&(a=o-u,a>=0&&e.set(S,a)))}}},e.WidgetStdMod=H},"3.17.2",{requires:["base-build","widget"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-position-constrain",function(e,t){function m(e){}var n="constrain",r="constrain|xyChange",i="constrainChange",s="preventOverlap",o="align",u="",a="bindUI",f="xy",l="x",c="y",h=e.Node,p="viewportRegion",d="region",v;m.ATTRS={constrain:{value:null,setter:"_setConstrain"},preventOverlap:{value:!1}},v=m._PREVENT_OVERLAP={x:{tltr:1,blbr:1,brbl:1,trtl:1},y:{trbr:1,tlbl:1,bltl:1,brtr:1}},m.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionConstrain is added"),e.after(this._bindUIPosConstrained,this,a)},getConstrainedXY:function(e,t){t=t||this.get(n);var r=this._getRegion(t===!0?null:t),i=this._posNode.get(d);return[this._constrain(e[0],l,i,r),this._constrain(e[1],c,i,r)]},constrain:function(e,t){var r,i,s=t||this.get(n);s&&(r=e||this.get(f),i=this.getConstrainedXY(r,s),(i[0]!==r[0]||i[1]!==r[1])&&this.set(f,i,{constrained:!0}))},_setConstrain:function(e){return e===!0?e:h.one(e)},_constrain:function(e,t,n,r){if(r){this.get(s)&&(e=this._preventOverlap(e,t,n,r));var i=t==l,o=i?r.width:r.height,u=i?n.width:n.height,a=i?r.left:r.top,f=i?r.right-u:r.bottom-u;if(e<a||e>f)u<o?e<a?e=a:e>f&&(e=f):e=a}return e},_preventOverlap:function(e,t,n,r){var i=this.get(o),s=t===l,a,f,c,h,p,d;return i&&i.points&&v[t][i.points.join(u)]&&(f=this._getRegion(i.node),f&&(a=s?n.width:n.height,c=s?f.left:f.top,h=s?f.right:f.bottom,p=s?f.left-r.left:f.top-r.top,d=s?r.right-f.right:r.bottom-f.bottom),e>c?d<a&&p>a&&(e=c-a):p<a&&d>a&&(e=h)),e},_bindUIPosConstrained:function(){this.after(i,this._afterConstrainChange),this._enableConstraints(this.get(n))},_afterConstrainChange:function(e){this._enableConstraints(e.newVal)},_enableConstraints:function(e){e?(this.constrain(),this._cxyHandle=this._cxyHandle||this.on(r,this._constrainOnXYChange)):this._cxyHandle&&(this._cxyHandle.detach(),this._cxyHandle=null)},_constrainOnXYChange:function(e){e.constrained||(e.newVal=this.getConstrainedXY(e.newVal))},_getRegion:function(e){var t;return e?(e=h.one(e),e&&(t=e.get(d))):t=this._posNode.get(p),t}},e.WidgetPositionConstrain=m},"3.17.2",{requires:["widget-position"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("overlay",function(e,t){e.Overlay=e.Base.create("overlay",e.Widget,[e.WidgetStdMod,e.WidgetPosition,e.WidgetStack,e.WidgetPositionAlign,e.WidgetPositionConstrain])},"3.17.2",{requires:["widget","widget-stdmod","widget-position","widget-position-align","widget-stack","widget-position-constrain"],skinnable:!0});

M.add("w-bubbletip",function(e){var t=e.mt.util,n='<div class="content">{tip}</div><span class="triangle-border"></span><span class="triangle-fill"></span>',i='<div class="content">{tip}</div><a class="close" title="关闭">×</a><span class="triangle-border"></span><span class="triangle-fill"></span>',a=e.WidgetPositionAlign,o={top:[a.BC,a.TC],right:[a.LC,a.RC],bottom:[a.TC,a.BC],left:[a.RC,a.LC],"top-left":[a.BL,a.TL],"top-right":[a.BR,a.TR],"right-top":[a.TL,a.TR],"right-bottom":[a.BL,a.BR],"bottom-left":[a.TL,a.BL],"bottom-right":[a.TR,a.BR],"left-top":[a.TR,a.TL],"left-bottom":[a.BR,a.BL],"top-left-area":[a.BR,a.TC],"top-right-area":[a.BL,a.TC],"right-top-area":[a.BL,a.RC],"left-top-area":[a.BR,a.LC],"right-bottom-area":[a.TL,a.RC],"left-bottom-area":[a.TR,a.LC],"bottom-left-area":[a.TR,a.BC],"bottom-right-area":[a.TL,a.BC]},s=function(){s.superclass.constructor.apply(this,arguments)};s.NAME="BubbleTip",s.CSS_PREFIX="widget-bubbletip",s.STATUS_HIDE=0,s.STATUS_SHOW=1,s.ATTRS={node:{value:null,setter:e.one,writenOnce:!0},id:{value:"",writeOnce:!0},tip:{value:"",writeOnce:!0},alignment:{value:"bottom"},distance:{value:5},show:{value:!1},showDelay:{value:200},hideDelay:{value:500},showClose:{value:!1},forceClose:{value:!1},showType:{value:"mouseover"},hideType:{value:"mouseout"},anim:{value:!0},theme:{value:"light"}},e.extend(s,e.Overlay,{initializer:function(){var e=this;e._timer=null,e._status=s.STATUS_HIDE,e._isMouseOver=!1,e._handles={},e.publish("show",{emitFacade:!0,defaultFn:e._defShowFn}),e.publish("hide",{emitFacade:!0,defaultFn:e._defHideFn}),e.publish("close",{emitFacade:!0,defaultFn:e._defCloseFn})},destructor:function(){t.detachHandle(this._handles)},renderUI:function(){var t=this,a=t.get("id"),o=t.get("tip"),s=t.get("contentBox"),r=t.get("show"),u=t.get("showClose"),l=t.get("forceClose"),c=t.get("zIndex"),h=t.get("theme");u||l?(s.setHTML(e.Lang.sub(i,{tip:o})),s.addClass(t.getClassName("with-close"))):s.setHTML(e.Lang.sub(n,{tip:o})),h&&s.addClass("theme-"+h),t.set("zIndex",c||9999),t.set("visible",!1),a&&t.get("boundingBox").set("id",a),r&&t.show()},bindUI:function(){function n(){(u!==l||i._status!==s.STATUS_HIDE)&&("mouseout"===l?i._delayOperation("hide",i.hide):i.close())}var i=this,a=i.get("node"),o=i.get("contentBox"),r=i.get("forceClose"),u=i.get("showType"),l=i.get("hideType"),c=e.one(window);i._handles.mouseOver=e.all([a,o]).on({mouseover:function(){i._isMouseOver=!0},mouseout:function(){i._isMouseOver=!1}}),i._handles.showByTrigger=a.on(u,function(){(u!==l||i._status!==s.STATUS_SHOW)&&i._delayOperation("show",i.show)}),r||(i._handles.hideByTrigger=a.on(l,function(){n()}),i._handles.hideByContent=o.on(l,function(){n()})),i._handles.close=o.delegate("click",function(){i.close()},".close"),i._handles.resize=c.on("resize",t.throttle(function(){i._setAlign()})),i._handles.pageheight=e.Global.on("PageHeight:change",t.throttle(function(){i._setAlign()}))},_delayOperation:function(e,t){var n=this,i=n.get(e+"Delay");n._timer&&(window.clearTimeout(n._timer),n._timer=null),n._timer=window.setTimeout(function(){t.call(n)},i)},show:function(){return this.fire("show"),this},_defShowFn:function(){var t,n=this,i=n.get("contentBox");n._status!==s.STATUS_SHOW&&(i.setStyle("opacity",0),n.set("visible",!0),n._status=s.STATUS_SHOW,n._setAlign(),n.get("anim")?(t=new e.Anim({node:i,to:{opacity:1},duration:.15}),t.run()):i.setStyle("opacity",1))},hide:function(e){return(e||!this._isMouseOver)&&this.fire("hide"),this},_defHideFn:function(){var t,n=this,i=n.get("contentBox");n._status!==s.STATUS_HIDE&&(n.get("anim")?(t=new e.Anim({node:i,to:{opacity:0},duration:.15}),t.on("end",function(){n.set("visible",!1),n._isMouseOver=!1,n._status=s.STATUS_HIDE}),t.run()):(i.setStyle("opacity",0),n.set("visible",!1),n._isMouseOver=!1,n._status=s.STATUS_HIDE))},close:function(){return this.fire("close"),this},_defCloseFn:function(){this.hide(!0)},_setAlign:function(){var e=this,t=e.get("alignment"),n=t.split("-"),i=e.get("distance"),a=e.get("contentBox"),s=e.get("node"),r={top:"auto",right:"auto",bottom:"auto",left:"auto"};a.addClass(e.getClassName(n[0])),n[1]&&a.addClass(e.getClassName(t)),o[t]&&e.set("align",{node:s,points:o[t]}),i=-1*parseInt(i,10),r[n[0]]=i+"px",a.setStyles(r)},setTip:function(e){if(e){var t=this.get("contentBox"),n=t.one(".content");this.set("tip",e),n&&n.setHTML(e)}}}),e.mt.widget.BubbleTip=s},"1.0.0",{requires:["mt-base","anim","overlay","node"],skinnable:!0});
/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.17.2",{requires:["yui-base"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-parse",function(e,t){var n=e.namespace("QueryString"),r=function(t){return function r(i,s){var o,u,a,f,l;return arguments.length!==2?(i=i.split(t),r(n.unescape(i.shift()),n.unescape(i.join(t)))):(i=i.replace(/^\s+|\s+$/g,""),e.Lang.isString(s)&&(s=s.replace(/^\s+|\s+$/g,""),isNaN(s)||(u=+s,s===u.toString(10)&&(s=u))),o=/(.*)\[([^\]]*)\]$/.exec(i),o?(f=o[2],a=o[1],f?(l={},l[f]=s,r(a,l)):r(a,[s])):(l={},i&&(l[i]=s),l))}},i=function(t,n){return t?e.Lang.isArray(t)?t.concat(n):!e.Lang.isObject(t)||!e.Lang.isObject(n)?[t].concat(n):s(t,n):n},s=function(e,t){for(var n in t)n&&t.hasOwnProperty(n)&&(e[n]=i(e[n],t[n]));return e};n.parse=function(t,n,s){return e.Array.reduce(e.Array.map(t.split(n||"&"),r(s||"=")),{},i)},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.17.2",{requires:["yui-base","array-extras"]});

/*
YUI 3.17.2 (build 9c3c78e)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.17.2",{requires:["yui-base"]});

YUI.add("crm-business-opportunity/common",function(e){var t=e.mt.Category,n=e.mt.crm.util,i=e.QueryString.parse(location.search.slice(1));e.namespace("mt.crm.businessopportunity").common={initCategory:function(n,a,o){var s="";o instanceof e.Node||(o=e.one(o)),t.categoryForBusinessOpportunity(n,a,function(e){2===a&&(s="209"===e.parentId?"客房数量:\n\n是否配有餐厅:\n\n人均消费:\n\n日均可接待量:\n\n其他介绍:":"商家介绍:例如营业面积、本店特色等\n\n合作店数:\n\n套餐/产品:\n\n人均消费:\n\n日均可接待量:\n\n其他介绍:",o.set("value",s))},function(t,a){var o=i.type;if(o){var s=e.Array.filter(a.data,function(e){return e.id===o+""});if(!(s.length<=0)){var r=n.one(".cat-name"),l=n.one(".cat-id");s=s[0],r.set("value",s.name),l.set("value",o)}}})},deleteYiWuCity:function(t){e.Array.some(t,function(e,n){return"义乌"===e.name?(t.splice(n,1),!0):!1})},showErrorTip:function(e,t){var i=e.one(".email"),a=e.one(".branch-name"),o=e.one(".city-name"),s=e.one(".district-name"),r=e.one(".bizarea-name"),l=e.one(".address"),u=e.one(".cat-name"),c=e.one(".qq"),d=e.one(".online-address");40006===t.status?n.tipFn("<p>城市信息有误，</p><p>请重新选择下拉框中相应的城市</p>","300",function(){o.focus()}):40007===t.status?n.tipFn("<p>行政区信息有误，</p><p>请选择下拉框中相应的行政区</p>","300",function(){s.focus()}):40008===t.status?n.tipFn("<p>商圈信息有误，</p><p>请选择下拉框中相应的商圈</p>","300",function(){r.focus()}):40009===t.status?n.tipFn("<p> 请选择团购类型 </p>","300",function(){u.focus()}):40010===t.status?n.tipFn("<p> 请填写QQ </p>","300",function(){c&&c.focus()}):40011===t.status?n.tipFn("<p> 请填写天猫店地址 </p>","300",function(){d&&d.focus()}):40003===t.status?n.tipFn("<p> 邮箱不合法 </p>","300",function(){i.focus()}):40004===t.status?n.tipFn("<p> 门店名称请不要超过100个字 </p>","300",function(){a.focus()}):40005===t.status?n.tipFn("<p> 详细地址请不要超过251个字 </p>","300",function(){l.focus()}):40002===t.status?n.tipFn("<p> 手机号填写有误，请输入11位数字 </p>","300",function(){l.focus()}):40033===t.status?n.tipFn("<p> 提交次数过多，请休息 </p>","300"):n.tipFn("<p>提交失败，请刷新后重试</p>","300")},initOpportunityTypeTip:function(t){if(t){t instanceof e.Node||(t=e.one(t));var n=new e.mt.widget.BubbleTip({node:t,width:"300px",alignment:"bottom",theme:"light-cos",tip:["<p>本地服务:本地餐饮休闲娱乐等</p>","<p>电商/物流：暂只接受天猫旗舰店、京东、唯品会、聚美（仅限化妆品类）、一号店（仅限食品类）、淘宝皇冠店（仅限服装类）、天猫商家合作</p>","<p>上门服务：根据用户指定的时间和地点提供上门服务，如上门保洁、上门洗车等。</p>"].join(""),show:"false"});n.render(),n.hide()}}}},"1.0.0",{requires:["crm-category","node","w-bubbletip","querystring","array-extras","crm-util"]});
M.add("mt-uiutil",function(e){var t=e.DOM;e.mt.UIUtil={toggleNode:function(t,n,i,a){var o=e.one(t);if(o){var r=o.all(n),s=o.all(i),u="hover",c=a?a:"";o.delegate("click",function(){var e=s.item(r.indexOf(this)),t=e.getStyle("display");"none"===t?(e.setStyle("display","block"),this.addClass(c)):(e.setStyle("display","none"),this.removeClass(c))},n),o.delegate("mouseover",function(){this.addClass(u)},n),o.delegate("mouseout",function(){this.removeClass(u)},n)}},getDimensions:function(n){n=e.one(n);var i,a,o=n.getDOMNode(),r=n.ancestor(),s={},u=0,c=0,l={},h={position:"absolute",visibility:"hidden",display:"block"};if(e.Array.each(["marginTop","marginBottom","marginLeft","marginRight","paddingLeft","paddingRight","paddingBottom","paddingTop","borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth"],function(e){s[e]=parseInt(t.getStyle(o,e),10)}),0!==o.offsetHeight)e.mix(s,{offsetHeight:o.offsetHeight,offsetWidth:o.offsetWidth,width:parseInt(t.getStyle(o,"width"),10),height:parseInt(t.getStyle(o,"height"),10)});else{for(a in h)h.hasOwnProperty(a)&&(l[a]=o.style[a],o.style[a]=h[a]);i=r.getStyle("position"),"relative"!==i&&"absolute"!==i&&r.setStyle("position","relative"),e.mix(s,{offsetHeight:o.offsetHeight,offsetWidth:o.offsetWidth}),r.setStyle("position",i);for(a in h)h.hasOwnProperty(a)&&(o.style[a]=l[a]);e.Array.each(["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],function(e){u+=s[e]}),e.Array.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(e){c+=s[e]}),s.width=s.offsetWidth-u,s.height=s.offsetHeight-c}return s},loadImg:function(){var e=[],t=null,n=function(){var t=0;for(t;t<e.length;t++)e[t].end?(t--,e.splice(t,1)):e[t]();0===e.length&&i()},i=function(){window.clearInterval(t),t=null};return function(i,a,o,r){function s(){l=d.width,h=d.height,(l!==u||h!==c||l*h>1024)&&(a&&a.call(d),s.end=!0)}var u,c,l,h,d=new Image;return d.src=i,d.complete?(a&&a.call(d),o&&o.call(d),d):(u=d.width,c=d.height,s(),s.end||(e.push(s),null===t&&(t=window.setInterval(n,40))),d.onerror=function(){r&&r.call(d),s.end=!0,d=d.onload=d.onerror=null},d.onload=function(){s.end||s(),o&&o.call(d),d=d.onload=d.onerror=null},d)}},isSupportAnimation:function(){var t=[" ","webkit","Webkit","Moz","O","ms","Khtml"],n=document.createElement("div"),i={transform:!1,animation:!1,transition:!1};for(var a in i)if(i.hasOwnProperty(a))for(var o=0,r=t.length;r>o;o++){var s=" "===t[o]?a:t[o]+e.mt.lang.ucfirst(a);if("string"==typeof n.style[s]){i[a]=!0;break}}return i},bindTranEndEvent:function(t,n){var i=["transitionend","webkitTransitionEnd","oTransitionEnd","MSTransitionEnd"];this.isSupportAnimation().transition?e.one(t).on(i,function(){n(t)}):n()},bindAnimEndEvent:function(t,n){var i=["animationend","webkitAnimationEnd","MSAnimationEnd","oanimationend"];if(this.isSupportAnimation().animation)for(var a=0,o=i.length;o>a;a++)e.one(t).getDOMNode().addEventListener(i[a],function(e){n(e,t)});else n(t)}}},"1.0.0",{requires:["mt-base","node","dom"]});