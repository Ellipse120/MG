M.add("ui-sidebar",function(e){var t=e.namespace("mt.ui"),n=e.mt.cookie,a="cos-ui-sidebar";"ontouchstart"in document.documentElement||(document.documentElement.className+=" ui-no-touch"),e.Event.defineOutside("touchstart"),t.Sidebar={init:function(){var t=e.one("body"),r=e.one("html");t.one("#main-nav")&&(e.delegate("click",function(e){var t,o=e.currentTarget,i=e.container;if(o.hasClass("toggle-view")){var s;s=r.hasClass("main-nav-closed")?"opened":"closed",r.replaceClass("main-nav-"+("opened"===s?"closed":"opened"),"main-nav-"+s),n.get(a)!==s&&n.set(a,s,null,"/")}else if(i.all("li").removeClass("active"),o.ancestor("li").addClass("active"),o.hasClass("dropdown-collapse")){var c=o.siblings(".nav").item(0);t=o.one("i.angle-down"),c&&(c.toggleView(),c.toggleClass("in"),c.hasClass("in")?t.replaceClass("fa-angle-up","fa-angle-down"):t.replaceClass("fa-angle-down","fa-angle-up"))}},".theme-cos #main-nav",".toggle-view, a"),e.delegate("touchstart",function(e){var t=e.currentTarget;r.hasClass("main-nav-opened")||(t.addClass("hover"),t.once("touchstartoutside",function(){t.removeClass("hover")}))},".theme-cos #main-nav",".navigation > .nav > li"))}}},"0.1.0",{requires:["node-screen","node","event-delegate","mt-cookie","event-touch","event-outside"]});
M.add("ui-dropdown",function(e){function t(){t.superclass.constructor.apply(this,arguments)}var n=e.namespace("mt.ui");t.NAME="Dropdown",t.NS="dropdown",e.extend(t,e.Plugin.Base,{defaults:{className:"open",target:"target",event:"click",selector:""},initializer:function(t){this._node=t.host;var n,a=this.decodeParams(this._node.getData("params"));this.config=e.merge(this.defaults,t),a&&e.mix(this.config,a,!0),n=this.config.event,this.publish("show",{preventable:!0,defaultFn:this.show}),this.publish("hide",{preventable:!0,defaultFn:this.hide}),"click"===n&&this._node.on("click",this.toggle,this),this.bindMenuEvent()},decodeParams:function(t){try{return e.JSON.parse(t)}catch(n){return null}},toggle:function(){var e=this.getTarget(),t=this.config.className;e.toggleClass(t),e.once("clickoutside",function(){e.removeClass(t)})},show:function(){this.status="open",this.getTarget().addClass("open")},open:function(){this.show()},hide:function(t){var n=this,a=e.config.win;this.status="close",t?(this.timer&&(a.clearTimeout(this.timer),n.timer=null),this.timer=a.setTimeout(function(){"open"!==n.status&&n.getTarget().removeClass("open")},t)):this.getTarget().removeClass("open")},close:function(){this.hide()},bindMenuEvent:function(){var e=this,t=this.getTarget(),n=t&&t.one(".dropdown-menu");n&&(n.delegate("click",function(t){return e.config.callback&&e.config.callback.call(e,t)===!1?!1:void e.toggle()},"li a"),"hover"===this.config.event&&n.on("hover",function(){e.status="open"},function(){e.hide(200)}))},getTarget:function(){var t,n=this._node,a=n.getData(this.config.target);return a||(a=n.getAttribute("href"),a=t&&t.replace(/.*(?=#[^\s]*$)/,"")),t=e.all(a),0===t.size()&&(t=n.get("parentNode")),t}}),n.Dropdown=t,n.dropdownDelegation=function(){var n=e.one("body");n.hasClass("theme-cos")&&(e.delegate("click",function(e){var n=e.currentTarget;e.preventDefault(),"undefined"==typeof n.dropdown&&(n.plug(t),n.dropdown.toggle())},n,'*[data-toggle="dropdown"]'),e.delegate("hover",function(e){var n=e.currentTarget;e.preventDefault(),"undefined"==typeof n.dropdown&&n.plug(t,{event:"hover"}),n.dropdown.show()},function(e){var t=e.currentTarget.dropdown;t&&(e.preventDefault(),t.hide(200))},n,'*[data-hover="dropdown"]'))}},"0.1.0",{requires:["node-pluginhost","node","plugin","event-delegate","event-outside","event-hover","json-parse"]});
M.add("ui-main",function(e){var t=e.namespace("mt.ui");t.Main={init:function(){t.Sidebar.init(),t.dropdownDelegation()}}},"0.1.0",{requires:["ui-sidebar","ui-dropdown"]});