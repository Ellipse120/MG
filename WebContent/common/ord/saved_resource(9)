M.add("uix-tooltip",function(i){function t(t,e){function n(i){var t=u.data(i,b),e=t||i.get("title");if(e){var n='<div class="'+m+'" style="position:absolute; top:0; left:0; visibility:hidden;"><div class="inner">'+e+"</div></div>";if(c=v.appendChild(n),!l(c,i))return v.removeChild(c),void(c=null);t||i.setAttribute(h,e),i.setAttribute("title","")}}function o(t){c&&(t.setAttribute("title",u.data(t,b)),p?(c.replaceClass(r,s),i.mt.UIUtil.bindAnimEndEvent(c,function(){c&&(c.remove(),c=null)})):(c.remove(),c=null))}function a(){g&&(window.clearTimeout(g),g=null)}function l(i,t){var e=t.get("docScrollX"),n=t.get("docScrollY"),o=t.get("winWidth"),a=t.get("winHeight"),l=t.getXY(),v=l[0],c=l[1],u=t.get("offsetWidth"),f=t.get("offsetHeight"),w=i.get("offsetHeight"),b=i.get("offsetWidth"),h=10,g=0,A=0,y="",C={top:g,left:A,visibility:"visible"},x="above";if(b>o||w>a)return"";if(g=c-w-h,n>g&&(x="below",g=c+f+h,g+w>n+a))return!1;if(A=v-(b-u)/2,e>A?(A=e,A+b/2>v+u/2&&(A=v+u+h,g=c-(w-f)/2),x="right"):A+b>e+o&&(A=e+o-b,v>A+b/2&&(A=v-b-h,g=c-(w-f)/2),x="left"),i.addClass(m+"--"+x),d.showArrow){switch(x){case"above":y='<div class="indication-arrow indication-arrow--down invisible"></div><div class="indication-arrow indication-arrow--down visible"></div>',r="anim-fade-in",s="anim-fade-out";break;case"below":y='<div class="indication-arrow indication-arrow--up visible"></div><div class="indication-arrow indication-arrow--up invisible"></div>',r="anim-fade-in--bellow",s="anim-fade-out--bellow";break;case"left":y='<div class="indication-arrow indication-arrow--right visible"></div><div class="indication-arrow indication-arrow--right invisible"></div>',r="anim-fade-in--left",s="anim-fade-out--left";break;case"right":y='<div class="indication-arrow indication-arrow--left visible"></div><div class="indication-arrow indication-arrow--left invisible"></div>',r="anim-fade-in--right",s="anim-fade-out--right"}i.appendChild(y)}return C.top=g,C.left=A,i.setStyles(C),p&&i.addClass(r),!0}if(t=i.one(t)){var d={showEvent:"mouseenter",hideEvent:"mouseleave",delay:0,showArrow:!0,useAnim:!1};d=i.merge(d,e||{});var r,s,v=i.one("body"),c=null,u=i.mt.util,f=i.mt.UIUtil.isSupportAnimation(),w="uix-tooltip",m="uix-tooltip-tip",b="tooltip-text",h="data-"+b,g=null,p=d.useAnim&&f.transition&&f.transform;t.delegate(d.showEvent,function(){c&&(v.removeChild(c),c=null),a(),n(this)},"."+w),t.delegate(d.hideEvent,function(){function i(){g=window.setTimeout(function(){o(t)},d.delay)}var t=this;d.delay&&c?(i(),c.on("hover",a,i)):o(t)},"."+w)}}i.namespace("mt.uix"),i.mt.uix.Tooltip=t},"1.0.0",{requires:["mt-base","node","mt-uiutil"]});
;M.add("order-nav",function(t){var e=(t.io,t.mt.util),i=e.Cookie;t.Lang.trim;t.namespace("mt.www.OrderNav"),t.mt.www.OrderNav={init:function(){var e=t.one(".J-order-nav");t.mt.uix.Tooltip(e,{delay:200});var r="scty",n=t.one(".J-security-status");if(!n)return!0;var o=n.one(".markpoint");!i.get(r)&&o&&o.setStyle("visibility","visible"),n.on("mouseover",function(){if(o){o.hide();var t=i.getExpiresDate(1,0,0);i.set(r,"1",t,"/","."+M.DOMAIN_HOST)}})}},t.mt.ComponentHub.attach("order-nav",function(){t.mt.www.OrderNav.init()})},"1.0.0",{requires:["www-base","uix-tooltip"]});
;M.add("rightbottom-sticky",function(t){var i=t.mt.www,o=t.mt.util,e=t.mt.Dialog,n=t.io;i.RightbottomSticky={init:function(e){function n(i,o){i&&(o=o||{},t.mix(o,{mainAreaWidth:980,bottomEdge:".site-info-w",bottomOffset:20}),t.use("uix-sticky",function(t){new t.mt.uix.Sticky(i,{canDisappear:!0,mainAreaWidth:o.mainAreaWidth,bottomEdge:o.bottomEdge,hAlign:"right",vAlign:"bottom",vBottomOffset:o.bottomOffset})}))}function a(i){var o=c.one("#fixbar-item-top");o&&(i=i||{},t.mix(i,{maxAreaWidth:980,bottomEdge:".site-info-w",content:"",minScrollTop:140,bottomOffset:20}),t.use("uix-smoothscroll","uix-sticky",function(t){t.mt.uix.Smoothscroll(o,{trigger:".J-go-top"}),new t.mt.uix.Sticky(o,{canDisappear:!0,mainAreaWidth:i.mainAreaWidth,bottomEdge:i.bottomEdge,hAlign:"right",vAlign:"bottom",vMinScrollTop:i.minScrollTop,vBottomOffset:i.bottomOffset})}))}function m(i){var o=c.one("#fixbar-item-vote");if(o){if(i=i||{},i.hide)return void o.hide();t.mix(i,{maxAreaWidth:980,bottomOffset:20,minScrollTop:0,bottomEdge:".site-info-w",ga:"",url:"/survey/82"}),t.use("uix-sticky",function(t){new t.mt.uix.Sticky(o,{canDisappear:!0,mainAreaWidth:i.mainAreaWidth,bottomEdge:i.bottomEdge,hAlign:"right",vAlign:"bottom",vMinScrollTop:i.minScrollTop,vBottomOffset:i.bottomOffset})})}}function f(o){var e,n=c.one("#fixbar-item-help");if(n){if(o=o||{},o.hide)return void n.hide();t.mix(o,{mainAreaWidth:980,bottomOffset:20,minScrollTop:0,bottomEdge:".site-info-w"}),t.use("uix-sticky",function(t){new t.mt.uix.Sticky(c,{canDisappear:!0,mainAreaWidth:o.mainAreaWidth,bottomEdge:o.bottomEdge,hAlign:"right",vAlign:"bottom",vMinScrollTop:o.minScrollTop,vBottomOffset:o.bottomOffset})}),t.one(document.body).delegate("click",function(t){t.preventDefault(),e?e.open():e=i.RightbottomSticky.help()},".J-lift-help")}}function r(i){var o,e=c.one("#fixbar-item-feedback");if(e){if(i=i||{},i.hide)return void e.hide();t.mix(i,{mainAreaWidth:980,bottomOffset:20,minScrollTop:0,ga:"",bottomEdge:".site-info-w"}),i.url&&(i.ga&&(i.ga='gaevent="'+i.ga+'"'),o='<a target="_blank" class="new-index-triffle lift-nav lift-nav--feedback" hidefocus="true"'+i.ga+' href="'+i.url+'"><i></i><span>意见反馈</span></a>',e.setHTML(o),t.use("uix-sticky",function(t){new t.mt.uix.Sticky(e,{canDisappear:!0,mainAreaWidth:i.mainAreaWidth,bottomEdge:i.bottomEdge,hAlign:"right",vAlign:"bottom",vMinScrollTop:i.minScrollTop,vBottomOffset:i.bottomOffset})}))}}var c,l;if(c=e.component.node,c&&(l=c.one("#fixbar-container"))){var g=o.decodeJSON(l.getData("config"))||{};t.mix(g,{topConfig:{},voteConfig:{},helpConfig:{},feedbackConfig:{},containerConfig:{}}),n(l,g.containerConfig),a(g.topConfig),m(g.voteConfig),f(g.helpConfig),r(g.feedbackConfig)}},help:function(){var i,a,m="help-center-dialog";return i=new e({id:m,title:"帮助中心",width:"681px",content:'<div class="loading-jump--large" style="height:365px;"></div>'}),i.open(),a=t.one("#"+m),n("/help/center",{method:"POST",on:{success:function(t,e){var n=o.getEvalRes(e);i.set("content",n.content),a.one(".body").setStyle("height","365px"),i.set("centered",!0)}}}),i}},t.mt.ComponentHub.attach("rightbottom-sticky",function(t){i.RightbottomSticky.init(t)})},"1.0.0",{requires:["mt-base","mt-dialog"]});
;